import java.util.*;
import java.net.*;
import java.nio.Buffer;
import java.awt.Desktop.*;
import java.awt.*;
import java.io.*;
public class Trojan_Ransom_Backdoor_Java {
    

   
    private static Socket program;
    private static BufferedReader in;
    private static PrintWriter out;

    public static void socketStart(String ip, int port) throws Exception{

    program = new Socket(ip, port);
    out = new PrintWriter(program.getOutputStream(), true);
    in = new BufferedReader(new InputStreamReader(program.getInputStream()));

        }

    public static void socketClose()throws Exception{

        in.close();
        out.close();
        program.close();

    }

    public static void sendOutput(String output)throws Exception{

        out.println(output);

    }

    private static class listen extends Thread{

        public void Run(){


            try{

                System.out.println(in.readLine());

            }

            catch(Exception e){
                System.out.println(e.getMessage());
            }

        }

    }

    public static void main(String[] args) throws Exception{
        
        Scanner keyboard = new Scanner(System.in);
        System.out.println("Please enter the server IP:");
        String st = keyboard.nextLine();

        socketStart(st, 9351);
        new listen().start();
        
        while(true){

            System.out.println("Client: ");
            String s = keyboard.nextLine();
            sendOutput(s);
            if(s.equalsIgnoreCase("close")){
                
                break;

            }
        }
        
        socketClose();

    }
}
